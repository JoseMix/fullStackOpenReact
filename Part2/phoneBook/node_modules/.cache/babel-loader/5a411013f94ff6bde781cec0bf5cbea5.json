{"ast":null,"code":"var _jsxFileName = \"/home/josemix/Escritorio/FullStackOpen/Part2/phoneBook/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Form from \"./components/Form.js\";\nimport Person from \"./components/Person\";\nimport DeleteButton from \"./components/Delete\"; //import axios from \"axios\";\n\nimport phoneService from \"./services/phoneService\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchName, setSearchName] = useState(\"\");\n  const [filteredPersons, setFilteredPersons] = useState(...persons); //every change on search, executes a map that search for letters that are included un the name, if you empty the searchbar all elements are show\n\n  const nameSearchHandler = event => {\n    setSearchName(event.target.value);\n    const search = persons.filter(person => person.name.toLowerCase().includes(event.target.value.toLowerCase()));\n    setFilteredPersons(search);\n  };\n\n  const nameHandler = event => {\n    setNewName(event.target.value);\n  };\n\n  const numHandler = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const deleteHandler = event => {\n    phoneService.deletePhone(event.id);\n  };\n\n  const submitHandler = event => {\n    event.preventDefault();\n    const newObject = {\n      name: newName,\n      number: newNumber\n    }; ///filter->empty or filled array\n    ///find->undefined or the object\n    //So with filter we have to check the size of the array, with find we can check if is false (false===undefined)\n\n    if (persons.find(person => person.name === newName)) {\n      // if (persons.filter((person) => person.name === newName).length === 0) {\n      //   setPersons(persons.concat(newObject));\n      // }\n      alert(`${newName} is already added to the phonebook.`);\n    } else {\n      phoneService.createPhone(newObject).then(newObject => setPersons(persons.concat(newObject)));\n    }\n\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  useEffect(() => {\n    phoneService.getAllPhones().then(initialList => setPersons(initialList));\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, \"Phonebook\"), /*#__PURE__*/React.createElement(Filter, {\n    nameSearchHandler: nameSearchHandler,\n    searchValue: searchName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, \"Add New \"), /*#__PURE__*/React.createElement(Form, {\n    submitHandler: submitHandler,\n    nameHandler: nameHandler,\n    numHandler: numHandler,\n    newName: newName,\n    newNumber: newNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, \"Numbers\"), /*#__PURE__*/React.createElement(Person, {\n    searchName: searchName,\n    persons: persons,\n    filteredPersons: filteredPersons,\n    deleteHandler: deleteHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/josemix/Escritorio/FullStackOpen/Part2/phoneBook/src/App.js"],"names":["React","useState","useEffect","Filter","Form","Person","DeleteButton","phoneService","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","searchName","setSearchName","filteredPersons","setFilteredPersons","nameSearchHandler","event","target","value","search","filter","person","name","toLowerCase","includes","nameHandler","numHandler","deleteHandler","deletePhone","id","submitHandler","preventDefault","newObject","number","find","alert","createPhone","then","concat","getAllPhones","initialList"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Form from \"./components/Form.js\";\nimport Person from \"./components/Person\";\nimport DeleteButton from \"./components/Delete\";\n//import axios from \"axios\";\nimport phoneService from \"./services/phoneService\";\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchName, setSearchName] = useState(\"\");\n  const [filteredPersons, setFilteredPersons] = useState(...persons);\n  //every change on search, executes a map that search for letters that are included un the name, if you empty the searchbar all elements are show\n  const nameSearchHandler = (event) => {\n    setSearchName(event.target.value);\n    const search = persons.filter((person) =>\n      person.name.toLowerCase().includes(event.target.value.toLowerCase())\n    );\n    setFilteredPersons(search);\n  };\n  const nameHandler = (event) => {\n    setNewName(event.target.value);\n  };\n  const numHandler = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const deleteHandler = (event) => {\n    phoneService.deletePhone(event.id);\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    const newObject = {\n      name: newName,\n      number: newNumber,\n    };\n    ///filter->empty or filled array\n    ///find->undefined or the object\n    //So with filter we have to check the size of the array, with find we can check if is false (false===undefined)\n    if (persons.find((person) => person.name === newName)) {\n      // if (persons.filter((person) => person.name === newName).length === 0) {\n      //   setPersons(persons.concat(newObject));\n      // }\n      alert(`${newName} is already added to the phonebook.`);\n    } else {\n      phoneService\n        .createPhone(newObject)\n        .then((newObject) => setPersons(persons.concat(newObject)));\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n  useEffect(() => {\n    phoneService.getAllPhones().then((initialList) => setPersons(initialList));\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter\n        nameSearchHandler={nameSearchHandler}\n        searchValue={searchName}\n      ></Filter>\n\n      <h2>Add New </h2>\n      <Form\n        submitHandler={submitHandler}\n        nameHandler={nameHandler}\n        numHandler={numHandler}\n        newName={newName}\n        newNumber={newNumber}\n      ></Form>\n      <h2>Numbers</h2>\n      <Person\n        searchName={searchName}\n        persons={persons}\n        filteredPersons={filteredPersons}\n        deleteHandler={deleteHandler}\n      ></Person>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}